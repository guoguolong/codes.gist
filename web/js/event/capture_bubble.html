<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Capture</title>
    <style type="text/css">
* {
    margin: 0;
    padding: 0;
}
.menu ul {
    display: none;
    background: gray;
    padding:  10px;
    width: 200px;
}
.menu ul li {
    list-style: none;
}
button {
    background: yellow;
    padding:  20PX;
}
</style>
</head>
<body>
<h1>巧妙实现点击菜单以外的部分隐藏菜单</h1>
<main>
    <div class="menu">
        <button>菜单</button>
        <div class="menu">
            <ul>
                <li>文件</li>
                <li>打开</li>
                <li>存储</li>
                <li>退出</li>
            </ul>
        </div>
    </div>
</main>
<script type="text/javascript">
    function toggleMenu(isOpen) {
        var $menu = document.querySelector('.menu ul')
        if (isOpen)
            $menu.style.display = 'block'
        else 
            $menu.style.display = 'none'
    }
    document.querySelector('.menu button').addEventListener('click', (e)=>{
        toggleMenu(true);
        console.log('Click [.menu button]');
    })
    document.querySelector('.menu ul').addEventListener('click', (e)=>{
        toggleMenu(true)
        console.log('Click [.menu ul]');
    })
    document.querySelector('html').addEventListener('click', (e)=>{
        toggleMenu(false);
        console.log('Click [html]', e.target)
    }, true);
</script>
</body>
</html>
